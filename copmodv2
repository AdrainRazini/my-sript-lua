local player = game.Players.LocalPlayer
local screenGui = Instance.new("ScreenGui", player:WaitForChild("PlayerGui"))

-- Frame principal do menu
local menuFrame = Instance.new("Frame", screenGui)
menuFrame.Size = UDim2.new(0, 300, 0, 400)
menuFrame.Position = UDim2.new(0.5, -150, 0.5, -200)
menuFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
menuFrame.BorderSizePixel = 0
menuFrame.BackgroundTransparency = 0.2

-- Título do menu
local titleLabel = Instance.new("TextLabel", menuFrame)
titleLabel.Size = UDim2.new(1, 0, 0, 50)
titleLabel.Text = "Mod Menu"
titleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
titleLabel.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
titleLabel.Font = Enum.Font.SourceSansBold
titleLabel.TextSize = 24
titleLabel.TextStrokeTransparency = 0.5

-- Botão de minimizar
local minimizeButton = Instance.new("TextButton", menuFrame)
minimizeButton.Size = UDim2.new(0, 50, 0, 50)
minimizeButton.Position = UDim2.new(1, -50, 0, 0)
minimizeButton.Text = "_"
minimizeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
minimizeButton.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
minimizeButton.Font = Enum.Font.SourceSansBold
minimizeButton.TextSize = 20

local isMinimized = false
local buttons = {}

local function minimizeMenu()
    isMinimized = true
    menuFrame.Size = UDim2.new(0, 50, 0, 50)
    menuFrame.Position = UDim2.new(1, -50, 0, 0)

    for _, button in pairs(buttons) do
        button.Visible = false
    end
end

local function expandMenu()
    isMinimized = false
    menuFrame.Size = UDim2.new(0, 300, 0, 400)
    menuFrame.Position = UDim2.new(0.5, -150, 0.5, -200)

    for _, button in pairs(buttons) do
        button.Visible = true
    end
end

minimizeButton.MouseButton1Click:Connect(function()
    if isMinimized then
        expandMenu()
    else
        minimizeMenu()
    end
end)

-- Função para arrastar
local dragging
local dragStart
local startPos

local function updatePosition(input)
    local delta = input.Position - dragStart
    menuFrame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
end

menuFrame.InputBegan:Connect(function(input)
    if (input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch) and not isMinimized then
        dragging = true
        dragStart = input.Position
        startPos = menuFrame.Position

        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then
                dragging = false
            end
        end)
    end
end)

game:GetService("UserInputService").InputChanged:Connect(function(input)
    if dragging and (input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch) then
        updatePosition(input)
    end
end)

-- Função para criar botões no menu
local function createButton(name, position, scriptUrl)
    local button = Instance.new("TextButton", menuFrame)
    button.Size = UDim2.new(1, -20, 0, 50)
    button.Position = position
    button.Text = name
    button.TextColor3 = Color3.fromRGB(255, 255, 255)
    button.BackgroundColor3 = Color3.fromRGB(80, 80, 80)
    button.BorderSizePixel = 0
    button.Font = Enum.Font.SourceSans
    button.TextSize = 20

    button.MouseEnter:Connect(function()
        button.BackgroundColor3 = Color3.fromRGB(90, 90, 90) -- Efeito hover
    end)

    button.MouseLeave:Connect(function()
        button.BackgroundColor3 = Color3.fromRGB(80, 80, 80) -- Retorna à cor original
    end)

    local isActive = false
    local flyingEnabled = false

    button.MouseButton1Click:Connect(function()
        isActive = not isActive
        if isActive then
            button.BackgroundColor3 = Color3.fromRGB(0, 255, 0) -- Verde quando ativado
            if scriptUrl then
                if not flyingEnabled then
                    flyingEnabled = true
                    loadstring(game:HttpGet(scriptUrl))() -- Carrega o script
                end
            end
        else
            button.BackgroundColor3 = Color3.fromRGB(80, 80, 80) -- Cor original quando desativado
            if flyingEnabled then
                flyingEnabled = false
                -- Para o script de voo
                player.Character.Humanoid.PlatformStand = false -- Desativa o voo
            end
        end
    end)

    -- Adiciona o botão à tabela
    table.insert(buttons, button)
end

-- Exemplo de botões com links
createButton("Flying Script", UDim2.new(0, 10, 0, 60), "https://raw.githubusercontent.com/AdrainRazini/my-sript-lua/2679af32bcce184d58765cff7f406c04a6241994/Flying")

-- Adicione mais botões conforme necessário
createButton("Teleport Tool", UDim2.new(0, 10, 0, 120), "https://raw.githubusercontent.com/AdrainRazini/my-sript-lua/refs/heads/main/teleport-tool")
createButton("speed Tool", UDim2.new(0, 10, 0, 120), "https://raw.githubusercontent.com/AdrainRazini/my-sript-lua/refs/heads/main/speed-tool")

