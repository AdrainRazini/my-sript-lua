-- Acessa o jogador local
local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

-- Cria uma nova ferramenta
local tool = Instance.new("Tool")
tool.Name = "Velocidade"
tool.RequiresHandle = true

-- Cria o objeto Handle da ferramenta
local handle = Instance.new("Part")
handle.Name = "Handle"
handle.Size = Vector3.new(1, 5, 1)  -- Defina o tamanho da ferramenta
handle.Anchored = false
handle.CanCollide = false
handle.BrickColor = BrickColor.new("Bright red")  -- Defina a cor da ferramenta
handle.Parent = tool

-- Adiciona uma textura ao Handle
local texture = Instance.new("Decal")
texture.Texture = "rbxassetid://123456789"  -- Substitua pelo ID da sua textura
texture.Parent = handle

-- Cria a GUI de controle de velocidade
local speedGui = Instance.new("ScreenGui", player.PlayerGui)
local frame = Instance.new("Frame", speedGui)
frame.Size = UDim2.new(0, 200, 0, 150)
frame.Position = UDim2.new(1, -210, 0, 10)
frame.BackgroundColor3 = Color3.new(0, 0, 0)
frame.BackgroundTransparency = 0.5
frame.Visible = false  -- Inicialmente invisível

local speedLabel = Instance.new("TextLabel", frame)
speedLabel.Size = UDim2.new(1, 0, 0, 50)
speedLabel.BackgroundColor3 = Color3.new(0, 0, 0)
speedLabel.TextColor3 = Color3.new(1, 1, 1)
speedLabel.Text = "Velocidade: 16"

local speedInput = Instance.new("TextBox", frame)
speedInput.Size = UDim2.new(1, 0, 0, 50)
speedInput.Position = UDim2.new(0, 0, 0, 50)
speedInput.BackgroundColor3 = Color3.new(1, 1, 1)
speedInput.PlaceholderText = "Defina a velocidade"

local setSpeedButton = Instance.new("TextButton", frame)
setSpeedButton.Size = UDim2.new(1, 0, 0, 50)
setSpeedButton.Position = UDim2.new(0, 0, 0, 100)
setSpeedButton.Text = "Ajustar Velocidade"
setSpeedButton.BackgroundColor3 = Color3.new(0, 1, 0)

local minimizeButton = Instance.new("TextButton", frame)
minimizeButton.Size = UDim2.new(0, 30, 0, 30)
minimizeButton.Position = UDim2.new(1, -30, 0, 0)
minimizeButton.Text = "-"
minimizeButton.BackgroundColor3 = Color3.new(1, 0, 0)

local animTrack

tool.Equipped:Connect(function()
    -- Aumenta a velocidade
    character.Humanoid.WalkSpeed = 16  -- Restaura a velocidade padrão
    speedGui.Enabled = true  -- Mostra a GUI
end)

tool.Unequipped:Connect(function()
    -- Restaura a velocidade
    character.Humanoid.WalkSpeed = 16  -- Restaura a velocidade padrão
    speedGui.Enabled = false  -- Esconde a GUI
end)

setSpeedButton.MouseButton1Click:Connect(function()
    local newSpeed = tonumber(speedInput.Text) or 16  -- Pega a velocidade do TextBox ou usa 16 se inválido
    if newSpeed >= 0 and newSpeed <= 50 then  -- Limita a velocidade entre 0 e 50
        character.Humanoid.WalkSpeed = newSpeed
        speedLabel.Text = "Velocidade: " .. newSpeed
    else
        speedLabel.Text = "Velocidade fora do limite!"
    end
end)

minimizeButton.MouseButton1Click:Connect(function()
    frame.Visible = not frame.Visible
end)

-- Adiciona a ferramenta à mochila do jogador
tool.Parent = player.Backpack

-- Mensagem de confirmação
print("Ferramenta com textura e animação criada e adicionada à sua mochila!")
